<template>
  <div ref="playerRef"></div>
</template>

<script setup>
import {ref, onMounted, onBeforeUnmount} from 'vue'
import APlayer from 'aplayer'
import 'aplayer/dist/APlayer.min.css'

const playerRef = ref()

const props = defineProps({
  album: {
    type: Object,
    required: true,
  },
})

let ap 
onMounted(() => {
  ap = new APlayer({
    container: playerRef.value,
    audio: [{
        name: props.album.name,
        artist: '',
        url: props.album.url,
        mutex: true,
        cover: 'data:image/png;base64,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'
    }]
  })
})

onBeforeUnmount(() => {
  ap.destroy()
})

</script>

<style lang="scss" scoped></style>
